(this["webpackJsonpcontacts-app"]=this["webpackJsonpcontacts-app"]||[]).push([[0],{10:function(t,e,n){t.exports={container:"Home_container__-DMjm",animClass:"Home_animClass__1_6RV",searchBox:"Home_searchBox__3aOtq",searchBoxOverlay:"Home_searchBoxOverlay__9r9Su",favOnly:"Home_favOnly__3NCJr"}},11:function(t,e,n){t.exports={container:"UpdateContact_container__3mE4J",animClass:"UpdateContact_animClass__s7Tx3",form:"UpdateContact_form__XOuAU",err:"UpdateContact_err__2n71g"}},16:function(t,e,n){t.exports={listItem:"ContactList_listItem__36sOQ",animClass:"ContactList_animClass__shwYi",contactDetails:"ContactList_contactDetails__2aywf",onHover:"ContactList_onHover__2LFtB",btn:"ContactList_btn__2fil_"}},17:function(t,e,n){t.exports={container:"DisplayContact_container__3iNvZ",avatar:"DisplayContact_avatar__2qS9X",btns:"DisplayContact_btns__1-Vn5",animClass:"DisplayContact_animClass__1M2I3"}},24:function(t,e,n){t.exports={like:"FavButton_like__1DcIp",anim:"FavButton_anim__3xvVU"}},34:function(t,e,n){},35:function(t,e,n){},44:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n(1),i=n.n(c),s=n(27),r=n.n(s),o=(n(34),n(35),n(12)),l=n(2),u=n(8),h=n(6),j=n(16),f=n.n(j),m=n(24),d=n.n(m);function b(t){var e=t.fav,n=t.onClick,i=Object(c.useState)(""),s=Object(h.a)(i,2),r=s[0],o=s[1];return Object(c.useEffect)((function(){o(d.a.anim),setTimeout((function(){return o("")}),1e3)}),[e]),Object(a.jsx)("img",{onClick:n,src:e?"/heart.svg":"/heart-off.svg",alt:"",className:d.a.like+" "+r})}function p(t){var e=t.contact,n=t.onChangeLike,i=t.onItemClick,s=Object(c.useRef)(),r=Object(c.useState)(""),o=Object(h.a)(r,2),l=o[0],u=o[1],j=function(){if(s.current){var t=s.current.getBoundingClientRect();u(t.top>=0&&t.bottom<=window.innerHeight?f.a.animClass:"")}};return Object(c.useEffect)((function(){return j(),window.addEventListener("scroll",j),window.addEventListener("resize",j),function(){window.removeEventListener("scroll",j),window.removeEventListener("resize",j)}}),[]),Object(a.jsxs)("div",{ref:s,onClick:i,className:f.a.listItem+" "+l,children:[Object(a.jsx)("img",{src:"/person.svg",className:"logo",alt:""}),Object(a.jsxs)("div",{className:f.a.contactDetails,children:[Object(a.jsx)("p",{children:e.name}),Object(a.jsx)("small",{className:f.a.onHover,children:e.email})]}),Object(a.jsx)(b,{fav:e.favorite,onClick:function(t){n(e),t.stopPropagation()}})]})}var v=n(18),O=n(19),x=n(21),g=n(20),C=function(t){Object(x.a)(n,t);var e=Object(g.a)(n);function n(){var t;Object(v.a)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(t=e.call.apply(e,[this].concat(c))).state={hasError:!1},t}return Object(O.a)(n,[{key:"componentDidCatch",value:function(t,e){console.error("Uncaught error:",t,e)}},{key:"render",value:function(){return this.state.hasError?Object(a.jsx)("h1",{children:"Sorry.. there was an error"}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(t){return{hasError:!0}}}]),n}(c.Component),_=n(10),y=n.n(_),w=function(){return JSON.parse(localStorage.contacts||"[]")},k=function(t){var e=w().filter((function(e){return e.id===t}));return new Promise((function(t,n){return e.length?t(e[0]):n("Contact Not Found")}))},N=function(t){var e=w().map((function(e){return e.id===t.id?t:e}));return localStorage.contacts=JSON.stringify(e),new Promise((function(t,n){return t(e)}))};function S(){var t=Object(c.useState)(""),e=Object(h.a)(t,2),n=e[0],i=e[1],s=Object(l.f)(),r="contacts",o="search",j=Object(c.useRef)(),f=Object(c.useReducer)((function(t,e){var n=t.search,a=t.favOnly,c=t.contacts;switch(e.type){case o:n=e.value;break;case"fav":a=e.value;break;case r:c=e.value}var i=c.filter((function(t){return(!a||t.favorite)&&t.name.includes(n)}));return{contacts:c,favOnly:a,search:n,filteredContacts:i}}),{contacts:[],favOnly:!1,search:"",filteredContacts:[]}),m=Object(h.a)(f,2),d=m[0],b=m[1];Object(c.useEffect)((function(){document.title="Contacts App | Favorite Medium",new Promise((function(t,e){return t(w())})).then((function(t){b({type:r,value:t}),i(y.a.animClass)}))}),[]);var v=function(t){var e=Object(u.a)(Object(u.a)({},t),{},{favorite:!t.favorite});N(e).then((function(t){b({type:r,value:t})}))};return Object(a.jsxs)("div",{className:y.a.container+" "+n,children:[Object(a.jsxs)("header",{children:[Object(a.jsx)("img",{src:"/search.svg",onClick:function(){j.current.focus()},className:"logo",alt:""}),Object(a.jsxs)("label",{className:y.a.searchBox,children:[Object(a.jsx)("input",{ref:j,id:"search",type:"text",placeholder:"start typing name or email",value:d.search,onChange:function(t){return b({type:o,value:t.target.value})}}),Object(a.jsx)("span",{onClick:function(){return b({type:"fav",value:!d.favOnly})},className:y.a.searchBoxOverlay+" "+(d.favOnly?y.a.favOnly:""),children:d.favOnly?Object(a.jsxs)("span",{children:[Object(a.jsx)("small",{children:"Showing Only"})," \u2764"]}):Object(a.jsxs)("span",{children:[Object(a.jsx)("small",{children:"Showing "}),"All"]})})]}),Object(a.jsx)("img",{onClick:function(){i(""),setTimeout((function(){return s.push("/create")}),250)},src:"/person-add.svg",alt:"",className:"logo"})]}),Object(a.jsx)("main",{className:"main",children:Object(a.jsx)(C,{children:d.filteredContacts.map((function(t){return Object(a.jsx)(p,{contact:t,onChangeLike:v,onItemClick:function(){i(""),setTimeout((function(){return s.push("/contacts/".concat(t.id))}),250)}},t.id)}))})})]})}var E=n(14),D=n(15),L=n(11),I=n.n(L),T=function(t){Object(x.a)(n,t);var e=Object(g.a)(n);function n(t){var a;return Object(v.a)(this,n),(a=e.call(this,t)).state={name:"",nameDirty:!1,email:"",emailDirty:!1,phone:"",phoneDirty:!1,favorite:!1,animClass:""},a.handleInputChange=a.handleInputChange.bind(Object(D.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(D.a)(a)),a}return Object(O.a)(n,[{key:"componentDidMount",value:function(){var t=this;setTimeout((function(){t.setState({animClass:I.a.animClass})}),50),this.props.contact&&this.setState(Object(u.a)({},this.props.contact))}},{key:"handleInputChange",value:function(t){var e,n=t.target,a=n.value,c=n.name;this.setState((e={},Object(E.a)(e,c,a),Object(E.a)(e,c+"Dirty",!0),e))}},{key:"validateEmail",value:function(){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(this.state.email).toLowerCase())}},{key:"handleSubmit",value:function(t){var e=this;t.preventDefault(),this.setState({animClass:""});var n=this.state,a=n.name,c=n.email,i=n.phone,s=n.favorite;this.props.contact?N({id:this.props.contact.id,name:a,email:c,phone:i,favorite:s}).then((function(){return e.props.history.push("/contacts/".concat(e.props.contact.id))})):function(t){var e=w(),n=e.length,a=(0===n?0:e[n-1].id)+1,c=Object(u.a)(Object(u.a)({},t),{},{id:a});return localStorage.contacts=JSON.stringify(e.concat([c])),new Promise((function(t,e){return t(!0)}))}({name:a,email:c,phone:i,favorite:s}).then((function(){return setTimeout((function(){return e.props.history.push("/")}),500)}))}},{key:"render",value:function(){var t=this;return Object(a.jsxs)("div",{className:[I.a.container,this.state.animClass].join(" "),children:[Object(a.jsxs)("header",{children:[Object(a.jsx)("img",{onClick:function(){t.setState({animClass:""}),setTimeout((function(){t.props.history.push(t.props.contact?"/contacts/".concat(t.props.contact.id):"/")}),300)},src:"/arrow-back.svg",alt:"",className:"logo"}),Object(a.jsx)("span",{className:"spacer"}),Object(a.jsx)(b,{fav:this.state.favorite,onClick:function(){return t.setState({favorite:!t.state.favorite})}})]}),Object(a.jsxs)("form",{className:I.a.form,onSubmit:this.handleSubmit,children:[Object(a.jsxs)("label",{children:[this.state.nameDirty&&this.state.name.length<3&&Object(a.jsx)("small",{className:I.a.err,children:"*Name must be at least 3 characters long"}),Object(a.jsx)("input",{name:"name",type:"text",value:this.state.name,placeholder:"Name",onChange:this.handleInputChange})]}),Object(a.jsxs)("label",{children:[this.state.emailDirty&&!this.validateEmail()&&Object(a.jsx)("small",{className:I.a.err,children:"*Please enter valid email"}),Object(a.jsx)("input",{name:"email",type:"email",placeholder:"E-mail",value:this.state.email,onChange:this.handleInputChange})]}),Object(a.jsx)("label",{children:Object(a.jsx)("input",{name:"phone",type:"tel",placeholder:"Phone",value:this.state.phone,onChange:this.handleInputChange})}),Object(a.jsxs)("button",{disabled:this.state.name.length<3||!this.validateEmail(),children:[this.props.contact?"Update ":"Add ","Contact"]})]})]})}}]),n}(c.Component),B=Object(l.g)(T);function U(){return Object(a.jsx)("main",{className:"main",children:Object(a.jsx)(B,{})})}var A=n(17),P=n.n(A);function H(t){var e=t.id,n=Object(c.useState)(""),i=Object(h.a)(n,2),s=i[0],r=i[1],o=Object(c.useState)(null),j=Object(h.a)(o,2),f=j[0],m=j[1];Object(c.useEffect)((function(){k(e).then((function(t){return m(t)})).catch((function(t){})),setTimeout((function(){return r(P.a.animClass)}),50)}),[e]);var d=Object(l.f)();return Object(a.jsxs)("div",{children:[Object(a.jsxs)("header",{children:[Object(a.jsx)("img",{onClick:function(){r(""),setTimeout((function(){return d.push("/")}),250)},src:"/arrow-back.svg",className:"logo",alt:""}),Object(a.jsx)("span",{className:"spacer"}),Object(a.jsx)(b,{fav:f&&f.favorite,onClick:function(){var t=Object(u.a)(Object(u.a)({},f),{},{favorite:!f.favorite});N(t).then((function(){m(t)}))}})]}),f&&Object(a.jsxs)("div",{className:P.a.container+" "+s,children:[Object(a.jsx)("img",{alt:"",src:"/person.svg",className:P.a.avatar+" "+s}),Object(a.jsx)("h1",{children:f.name}),Object(a.jsx)("p",{children:Object(a.jsx)("a",{href:"mailto:"+f.email,children:f.email})}),f.phone&&Object(a.jsx)("p",{children:f.phone}),Object(a.jsxs)("div",{className:P.a.btns+" "+s,children:[Object(a.jsx)("button",{onClick:function(){r(""),setTimeout((function(){return d.push("/contacts/".concat(f.id,"/update"))}),250)},children:"Edit Contact"}),Object(a.jsx)("button",{onClick:function(){r(""),setTimeout((function(){!function(t){localStorage.contacts=JSON.stringify(w().filter((function(e){return e.id!==t}))),new Promise((function(t,e){return t(JSON.parse(localStorage.contacts))}))}(f.id),d.push("/")}),250)},children:"Remove Contact"})]})]})]})}function J(t){var e=t.match.params.id;return Object(a.jsx)("main",{className:"main",children:Object(a.jsx)(H,{id:e})})}function W(t){var e=t.match.params.id,n=Object(c.useState)(),i=Object(h.a)(n,2),s=i[0],r=i[1];return Object(c.useEffect)((function(){k(e).then((function(t){return r(t)}))}),[e]),Object(a.jsx)("main",{className:"main",children:s&&Object(a.jsx)(B,{contact:s})})}var R=function(){return Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)(o.a,{children:Object(a.jsxs)(l.c,{children:[Object(a.jsx)(l.a,{path:"/",exact:!0,component:S}),Object(a.jsx)(l.a,{path:"/create",exact:!0,component:U}),Object(a.jsx)(l.a,{path:"/contacts/:id",exact:!0,component:J}),Object(a.jsx)(l.a,{path:"/contacts/:id/update",exact:!0,component:W})]})}),Object(a.jsx)("footer",{className:"footer",children:Object(a.jsx)("a",{href:"https://mayank-chaudhari.web.app",target:"_blank",rel:"noopener noreferrer",children:"Created by Mayank Chaudhari"})})]})},F=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function M(t,e){navigator.serviceWorker.register(t).then((function(t){t.onupdatefound=function(){var n=t.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),e&&e.onUpdate&&e.onUpdate(t)):(console.log("Content is cached for offline use."),e&&e.onSuccess&&e.onSuccess(t)))})}})).catch((function(t){console.error("Error during service worker registration:",t)}))}r.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(R,{})}),document.getElementById("root")),function(t){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");F?(!function(t,e){fetch(t,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(t){t.unregister().then((function(){window.location.reload()}))})):M(t,e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e,t),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):M(e,t)}))}}()}},[[44,1,2]]]);
//# sourceMappingURL=main.c6054b43.chunk.js.map